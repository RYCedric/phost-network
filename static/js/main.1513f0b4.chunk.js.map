{"version":3,"sources":["Components/AppContext.js","Components/LeftNav.js","Components/Utils.js","actions/post.action.js","Components/Post/NewPostForm.js","actions/user.actions.js","Components/Profil/FollowHandler.js","Components/Post/LikeButton.js","Components/Post/DeleteCard.js","Components/Post/EditDeleteComment.js","Components/Post/CardComments.js","Components/Post/Card.js","Components/Thread.js","Components/Log/SignInForm.js","Components/Log/SignUpForm.js","Components/Log/index.js","Components/Trends.js","Pages/Home.js","Components/Profil/UploadImg.js","Components/Profil/UpdateProfil.js","Pages/Profil.js","Pages/Trending.js","Pages/NotFound.js","Components/Log/Logout.js","Components/Navbar.js","Components/Routes/index.js","App.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPosts.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["UidContext","createContext","LeftNav","className","to","activeClassName","style","height","width","dateParser","num","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","isEmpty","value","undefined","Object","keys","length","trim","GET_POSTS","GET_ALL_POSTS","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERROR","getPosts","dispatch","axios","get","process","then","res","array","data","slice","type","payload","catch","err","console","log","addPost","post","errors","NewPostForm","useState","isLoading","setIsLoading","message","setMessage","postPicture","setPostPicture","video","setVideo","file","setFile","userData","useSelector","state","userReducer","error","errorReducer","postErrors","useDispatch","useEffect","findLink","split","i","includes","embed","replace","splice","join","handleVideo","handlePost","a","FormData","append","_id","cancelPost","alert","following","followers","src","picture","alt","name","id","placeholder","onChange","e","target","pseudo","now","frameBorder","allow","allowFullScreen","title","cursor","accept","URL","createObjectURL","files","handlePicture","onClick","format","maxSize","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERROR","FollowHandler","idToFollow","isFollowed","setIsFollowed","followerId","idToUnfollow","method","url","marginLeft","marginTop","followUser","LikeButton","liked","setLiked","uid","useContext","likers","trigger","position","closeOnDocumentClick","postId","userId","DeleteCard","deleteQuote","window","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","action","onSubmit","preventDefault","editComment","htmlFor","defaultValue","marginRight","CardComments","usersData","usersReducer","comments","map","user","commenterPseudo","addComment","Card","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","createdAt","Thread","loadPost","setLoadPost","count","setCount","posts","postsReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","withCredentials","innerHTML","location","SignUpForm","formSubmit","setFormSubmit","setpseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfimError","termsError","checked","href","rel","Log","signin","signup","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModals","Trends","allPostsReducer","trendList","trendingReducer","sortedArray","sort","b","getTrends","Home","UploadImg","uploadPicture","UpdateProfil","bio","setBio","updateForm","setUpdateForm","followingPopup","setFollowingPopup","followersPopup","setFollowersPopup","userErrors","updateBio","Profil","Trending","NotFound","Logout","logout","key","cookie","remove","expires","Navbar","Uid","index","path","element","App","setUid","fetchToken","getUser","Provider","initialState","GET_USERS","combineReducers","filter","store","createStore","RootReducer","composeWithDevTools","applyMiddleware","thunk","logger","ReactDOM","render"],"mappings":"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","file":"static/js/main.1513f0b4.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const UidContext = createContext();\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BiHome } from \"react-icons/bi\";\r\nimport { IoRocketOutline } from \"react-icons/io5\";\r\nimport { BiUser } from \"react-icons/bi\";\r\n\r\nconst LeftNav = () => {\r\n  return (\r\n    <div className=\"left-nav-container\">\r\n      <div className=\"icons\">\r\n        <div className=\"icons-bis\">\r\n          <Link to=\"/\" activeClassName=\"active-left-nav\">\r\n            <BiHome style={{ height: \"34px\", width: \"34px\" }} />\r\n          </Link>\r\n          <Link to=\"/trending\" activeClassName=\"active-left-nav\">\r\n            <IoRocketOutline style={{ height: \"34px\", width: \"34px\" }} />\r\n          </Link>\r\n          <Link to=\"/profil\" activeClassName=\"active-left-nav\">\r\n            <BiUser style={{ height: \"34px\", width: \"34px\" }} />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftNav;\r\n","export const dateParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n\r\n  let timestamp = Date.parse(num);\r\n  let date = new Date(timestamp).toLocaleDateString(\"fr-FR\", options);\r\n\r\n  return date.toString();\r\n};\r\n\r\nexport const timestampParser = (num) => {\r\n  let options = {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  };\r\n\r\n  let date = new Date(num).toLocaleDateString(\"fr-FR\", options);\r\n  return date.toString();\r\n};\r\n\r\nexport const isEmpty = (value) => {\r\n  return (\r\n    value === undefined ||\r\n    value === null ||\r\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\r\n    (typeof value === \"string\" && value.trim().length === 0)\r\n  );\r\n};\r\n","import axios from \"axios\";\r\n\r\n// POSTS\r\nexport const GET_POSTS = \"GET_POSTS\";\r\nexport const GET_ALL_POSTS = \"GET_ALL_POSTS\";\r\nexport const ADD_POST = \"ADD_POST\";\r\nexport const LIKE_POST = \"LIKE_POST\";\r\nexport const UNLIKE_POST = \"UNLIKE_POST\";\r\nexport const UPDATE_POST = \"UPDATE_POST\";\r\nexport const DELETE_POST = \"DELETE_POST\";\r\n\r\n// COMMENTS\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\r\n\r\n// TRENDS\r\nexport const GET_TRENDS = \"GET_TRENDS\";\r\n\r\n// ERORS\r\nexport const GET_POST_ERROR = \"GET_POST_ERROR\";\r\n\r\nexport const getPosts = (num) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}api/post/`)\r\n      .then((res) => {\r\n        const array = res.data.slice(0, num);\r\n        dispatch({ type: GET_POSTS, payload: array });\r\n        dispatch({ type: GET_ALL_POSTS, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const addPost = (data) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`${process.env.REACT_APP_API_URL}api/post/`, data)\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          dispatch({ type: GET_POST_ERROR, payload: res.data.errors });\r\n        } else {\r\n          dispatch({ type: GET_POST_ERROR, payload: \"\" });\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const likePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/like-post/${postId}`,\r\n      data: { id: userId },\r\n    })\r\n      .then((res) => dispatch({ type: LIKE_POST, payload: { postId, userId } }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const unlikePost = (postId, userId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/unlike-post/${postId}`,\r\n      data: { id: userId },\r\n    })\r\n      .then((res) =>\r\n        dispatch({ type: UNLIKE_POST, payload: { postId, userId } })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const updatePost = (postId, message) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"put\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\r\n      data: { message },\r\n    })\r\n      .then(() => {\r\n        dispatch({ type: UPDATE_POST, payload: { message, postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"delete\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\r\n    })\r\n      .then(() => {\r\n        dispatch({ type: DELETE_POST, payload: { postId } });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\r\n      data: { text, commenterPseudo, commenterId },\r\n    })\r\n      .then(() => {\r\n        dispatch({\r\n          type: ADD_COMMENT,\r\n          payload: { postId },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const editComment = (postId, commentId, text) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\r\n      data: { text, commentId },\r\n    })\r\n      .then(() => {\r\n        dispatch({\r\n          type: EDIT_COMMENT,\r\n          payload: { postId, commentId, text },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const deleteComment = (postId, commentId) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\r\n      data: { commentId },\r\n    })\r\n      .then(() => {\r\n        dispatch({\r\n          type: DELETE_COMMENT,\r\n          payload: { postId, commentId },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const getTrends = (sortedArray) => {\r\n  return (dispatch) => {\r\n    dispatch({ type: GET_TRENDS, payload: sortedArray });\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FaSpinner } from \"react-icons/fa\";\r\nimport { ImFilePicture } from \"react-icons/im\";\r\nimport { isEmpty, timestampParser } from \"../Utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addPost, getPosts } from \"../../actions/post.action\";\r\n\r\nconst NewPostForm = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [postPicture, setPostPicture] = useState(null);\r\n  const [video, setVideo] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const error = useSelector((state) => state.errorReducer.postErrors);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData)) setIsLoading(false);\r\n\r\n    const handleVideo = () => {\r\n      let findLink = message.split(\" \");\r\n      for (let i = 0; i < findLink.length; i++) {\r\n        if (\r\n          findLink[i].includes(\"https://www.yout\") ||\r\n          findLink[i].includes(\"https://yout\")\r\n        ) {\r\n          let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\r\n          setVideo(embed.split(\"&\")[0]);\r\n          findLink.splice(i, 1);\r\n          setMessage(findLink.join(\" \"));\r\n          setPostPicture(\"\");\r\n        }\r\n      }\r\n    };\r\n    handleVideo();\r\n  }, [userData, message, video]);\r\n\r\n  const handlePost = async () => {\r\n    if (message || postPicture || video) {\r\n      const data = new FormData();\r\n      data.append(\"posterId\", userData._id);\r\n      data.append(\"message\", message);\r\n      if (file) data.append(\"file\", file);\r\n      data.append(\"video\", video);\r\n\r\n      await dispatch(addPost(data));\r\n      dispatch(getPosts());\r\n      cancelPost();\r\n    } else alert(\"Veuillez entre un message\");\r\n  };\r\n\r\n  const handlePicture = (e) => {\r\n    setPostPicture(URL.createObjectURL(e.target.files[0]));\r\n    setFile(e.target.files[0]);\r\n    setVideo(\"\");\r\n  };\r\n\r\n  const cancelPost = () => {\r\n    setMessage(\"\");\r\n    setPostPicture(\"\");\r\n    setFile(\"\");\r\n    setVideo(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-container\">\r\n      {isLoading ? (\r\n        <FaSpinner />\r\n      ) : (\r\n        <>\r\n          <div className=\"data\">\r\n            <p>\r\n              <span>\r\n                {userData.following ? userData.following.length : \"0\"}{\" \"}\r\n              </span>\r\n              Abonnement\r\n              {userData.following && userData.following.length > 1 ? \"s\" : null}\r\n            </p>\r\n            <p>\r\n              <span>\r\n                {userData.followers ? userData.followers.length : \"0\"}{\" \"}\r\n              </span>\r\n              Abonné\r\n              {userData.followers && userData.followers.length > 1 ? \"s\" : null}\r\n            </p>\r\n          </div>\r\n          <Link to=\"/profil\">\r\n            <div className=\"user-info\">\r\n              <img src={userData.picture} alt=\"user-pic\" />\r\n            </div>\r\n          </Link>\r\n          <div className=\"post-form\">\r\n            <textarea\r\n              name=\"message\"\r\n              id=\"message\"\r\n              placeholder=\"Quoi de neuf ?\"\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              value={message}\r\n            />\r\n            {message || postPicture || video.length > 20 ? (\r\n              <li className=\"card-container\">\r\n                <div className=\"card-left\">\r\n                  <img src={userData.picture} alt=\"user-pic\" />\r\n                </div>\r\n                <div className=\"card-right\">\r\n                  <div className=\"card-header\">\r\n                    <div className=\"pseudo\">\r\n                      <h3>{userData.pseudo}</h3>\r\n                    </div>\r\n                    <span>{timestampParser(Date.now())}</span>\r\n                  </div>\r\n                  <div className=\"content\">\r\n                    <p>{message}</p>\r\n                    <img src={postPicture} alt=\"\" />\r\n                    {video && (\r\n                      <iframe\r\n                        src={video}\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture\"\r\n                        allowFullScreen\r\n                        title={video}\r\n                      ></iframe>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ) : null}\r\n\r\n            <div className=\"footer-form\">\r\n              <div className=\"icon\">\r\n                {isEmpty(video) && (\r\n                  <>\r\n                    <ImFilePicture style={{ cursor: \"pointer\" }} />\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"file-upload\"\r\n                      name=\"file\"\r\n                      accept=\".jpg,.jpeg,.png\"\r\n                      onChange={(e) => handlePicture(e)}\r\n                    />\r\n                  </>\r\n                )}\r\n                {video && (\r\n                  <button onClick={() => setVideo(\"\")}>Supprimer video</button>\r\n                )}\r\n              </div>\r\n              {!isEmpty(error.format) && <p>{error.format}</p>}\r\n              {!isEmpty(error.maxSize) && <p>{error.maxSize}</p>}\r\n              <div className=\"btn-send\">\r\n                {message || postPicture || video.length > 20 ? (\r\n                  <button className=\"cancel\" onClick={cancelPost}>\r\n                    Annuler message\r\n                  </button>\r\n                ) : null}\r\n\r\n                <button className=\"send\" onClick={handlePost}>\r\n                  Envoyer\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewPostForm;\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USER = \"GET_USER\";\r\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\r\nexport const UPDATE_BIO = \"UPDATE_BIO\";\r\nexport const FOLLOW_USER = \"FOLLOW_USER\";\r\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\r\n\r\n// ERRORS\r\nexport const GET_USER_ERROR = \"GET_USER_ERROR\";\r\n\r\nexport const getUser = (uid) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\r\n      .then((res) => {\r\n        dispatch({ type: GET_USER, payload: res.data });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const uploadPicture = (data, id) => {\r\n  return (dispatch) => {\r\n    return axios\r\n      .post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          dispatch({ type: GET_USER_ERROR, payload: res.data.errors });\r\n        } else {\r\n          dispatch({ type: GET_USER_ERROR, payload: \"\" });\r\n          return axios\r\n            .get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\r\n            .then((res) => {\r\n              dispatch({ type: UPLOAD_PICTURE, payload: res.data.picture });\r\n            });\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const updateBio = (userId, bio) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"put\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/${userId}`,\r\n      data: { bio },\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: UPDATE_BIO, payload: bio });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const followUser = (followerId, idToFollow) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/follow/${followerId}`,\r\n      data: { idToFollow },\r\n    })\r\n      .then((res) => dispatch({ type: FOLLOW_USER, payload: { idToFollow } }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n\r\nexport const unfollowUser = (followerId, idToUnfollow) => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"patch\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/unFollow/${followerId}`,\r\n      data: { idToUnfollow },\r\n    })\r\n      .then((res) =>\r\n        dispatch({ type: UNFOLLOW_USER, payload: { idToUnfollow } })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { followUser, unfollowUser } from \"../../actions/user.actions\";\r\nimport { isEmpty } from \"../Utils\";\r\nimport { FiUserMinus, FiUserPlus } from \"react-icons/fi\";\r\n\r\nconst FollowHandler = ({ idToFollow, type }) => {\r\n  const [isFollowed, setIsFollowed] = useState(false);\r\n\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleFollow = () => {\r\n    dispatch(followUser(userData._id, idToFollow));\r\n    setIsFollowed(true);\r\n  };\r\n\r\n  const handleUnfollow = () => {\r\n    dispatch(unfollowUser(userData._id, idToFollow));\r\n    setIsFollowed(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(userData.following)) {\r\n      if (userData.following.includes(idToFollow)) {\r\n        setIsFollowed(true);\r\n      } else setIsFollowed(false);\r\n    }\r\n  }, [userData, idToFollow]);\r\n\r\n  return (\r\n    <>\r\n      {isFollowed && !isEmpty(userData) && (\r\n        <span onClick={handleUnfollow}>\r\n          {type === \"suggestion\" && (\r\n            <button className=\"unfollow-btn\">Abonné</button>\r\n          )}\r\n          {type === \"card\" && (\r\n            <FiUserMinus\r\n              style={{\r\n                marginLeft: \"10px\",\r\n                cursor: \"pointer\",\r\n                marginTop: \"5px\",\r\n              }}\r\n            />\r\n          )}\r\n        </span>\r\n      )}\r\n\r\n      {isFollowed === false && !isEmpty(userData) && (\r\n        <span onClick={handleFollow}>\r\n          {type === \"suggestion\" && (\r\n            <button className=\"unfollow-btn\">Suivre</button>\r\n          )}\r\n          {type === \"card\" && (\r\n            <FiUserPlus\r\n              style={{\r\n                marginLeft: \"10px\",\r\n                cursor: \"pointer\",\r\n                marginTop: \"5px\",\r\n              }}\r\n            />\r\n          )}\r\n        </span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowHandler;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { UidContext } from \"../AppContext\";\r\nimport { BsHeart, BsHeartFill } from \"react-icons/bs\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { likePost, unlikePost } from \"../../actions/post.action\";\r\n\r\nconst LikeButton = ({ post }) => {\r\n  const [liked, setLiked] = useState(false);\r\n  const uid = useContext(UidContext);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (post.likers.includes(uid)) setLiked(true);\r\n    else setLiked(false);\r\n  }, [uid, post.likers, liked]);\r\n\r\n  const like = () => {\r\n    dispatch(likePost(post._id, uid));\r\n    setLiked(true);\r\n  };\r\n\r\n  const unlike = () => {\r\n    dispatch(unlikePost(post._id, uid));\r\n    setLiked(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"like-container\">\r\n      {uid === null && (\r\n        <Popup\r\n          trigger={<BsHeart />}\r\n          position={(\"bottom center\", \"bottom right\", \"bottom left\")}\r\n          closeOnDocumentClick\r\n        >\r\n          <div>Connectez-vous pour aimer un post !</div>\r\n        </Popup>\r\n      )}\r\n      {uid && liked === false && (\r\n        <BsHeart onClick={like} style={{ cursor: \"pointer\" }} />\r\n      )}\r\n      {uid && liked && (\r\n        <BsHeartFill onClick={unlike} style={{ cursor: \"pointer\" }} />\r\n      )}\r\n      <span>{post.likers.length}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { FaTrashAlt } from \"react-icons/fa\";\r\nimport { deletePost } from \"../../actions/post.action\";\r\n\r\nconst DeleteCard = ({ id }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const deleteQuote = () => dispatch(deletePost(id));\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        if (window.confirm(\"Voulez-vous supprimer cet article ?\")) {\r\n          {\r\n            deleteQuote();\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      <FaTrashAlt />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteCard;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { UidContext } from \"../AppContext\";\r\nimport { FaTrashAlt, FaEdit } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteComment, editComment } from \"../../actions/post.action\";\r\n\r\nconst EditDeleteComment = ({ comment, postId }) => {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const uid = useContext(UidContext);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault();\r\n    if (text) {\r\n      dispatch(editComment(postId, comment._id, text));\r\n      setText(\"\");\r\n      setEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => dispatch(deleteComment(postId, comment._id));\r\n\r\n  useEffect(() => {\r\n    const checkAuthor = () => {\r\n      if (uid === comment.commenterId) setIsAuthor(true);\r\n    };\r\n    checkAuthor();\r\n  }, [uid, comment.commenterId]);\r\n\r\n  return (\r\n    <div className=\"edit-comment\">\r\n      {isAuthor && edit === false && (\r\n        <span onClick={() => setEdit(!edit)}>\r\n          <FaEdit />\r\n        </span>\r\n      )}\r\n      {isAuthor && edit && (\r\n        <form action=\"\" onSubmit={handleEdit} className=\"edit-comment-form\">\r\n          <label htmlFor=\"text\" onClick={() => setEdit(!edit)}>\r\n            Editer\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"text\"\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n            defaultValue={comment.text}\r\n          />\r\n          <br />\r\n          <div className=\"btn\">\r\n            <FaTrashAlt\r\n              style={{ cursor: \"pointer\", marginRight: \"5px\" }}\r\n              onClick={() => {\r\n                if (window.confirm(\"Voulez-vous supprimer ce commentaire ?\"))\r\n                  handleDelete();\r\n              }}\r\n            />\r\n            <input type=\"submit\" value=\"Valider modification\" />\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditDeleteComment;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addComment, getPosts } from \"../../actions/post.action\";\r\nimport FollowHandler from \"../Profil/FollowHandler\";\r\nimport { isEmpty, timestampParser } from \"../Utils\";\r\nimport EditDeleteComment from \"./EditDeleteComment\";\r\n\r\nconst CardComments = ({ post }) => {\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleComment = (e) => {\r\n    e.preventDefault();\r\n    if (text) {\r\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo)).then(\r\n        () => dispatch(getPosts()).then(() => setText(\"\"))\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"comments-container\">\r\n      {post.comments.map((comment) => {\r\n        return (\r\n          <div\r\n            className={\r\n              comment.commenterId === userData._id\r\n                ? \"comment-container client\"\r\n                : \"comment-container\"\r\n            }\r\n            key={comment._id}\r\n          >\r\n            <div className=\"left-part\">\r\n              <img\r\n                src={\r\n                  !isEmpty(usersData[0]) &&\r\n                  usersData\r\n                    .map((user) => {\r\n                      if (user._id === comment.commenterId) return user.picture;\r\n                      else return null;\r\n                    })\r\n                    .join(\"\")\r\n                }\r\n                alt=\"commenter-pic\"\r\n              />\r\n            </div>\r\n            <div className=\"right-part\">\r\n              <div className=\"comment-header\">\r\n                <div className=\"pseudo\">\r\n                  <h3>{comment.commenterPseudo}</h3>\r\n                  {comment.commenterId !== userData._id && (\r\n                    <FollowHandler\r\n                      idToFollow={comment.commenterId}\r\n                      type={\"card\"}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <span>{timestampParser(comment.timestamp)}</span>\r\n              </div>\r\n              <p>{comment.text}</p>\r\n              <EditDeleteComment comment={comment} postId={post._id} />\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      {userData._id && (\r\n        <form action=\"\" onSubmit={handleComment} className=\"comment-form\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"text\"\r\n            onChange={(e) => setText(e.target.value)}\r\n            value={text}\r\n            placeholder=\"Laisser un commentaire\"\r\n          />\r\n          <br />\r\n          <input type=\"submit\" value=\"Commenter\" />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardComments;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FaSpinner } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { dateParser, isEmpty } from \"../Utils\";\r\nimport FollowHandler from \"../Profil/FollowHandler\";\r\nimport { MdOutlineMessage, MdShare, MdEditNote } from \"react-icons/md\";\r\nimport LikeButton from \"./LikeButton\";\r\nimport { updatePost } from \"../../actions/post.action\";\r\nimport DeleteCard from \"./DeleteCard\";\r\nimport CardComments from \"./CardComments\";\r\n\r\nconst Card = ({ post }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isUpdated, setIsUpdated] = useState(false);\r\n  const [textUpdate, setTextUpdate] = useState(null);\r\n  const [showComments, setShowComments] = useState(false);\r\n\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    !isEmpty(usersData[0]) && setIsLoading(false);\r\n  }, [usersData]);\r\n\r\n  const updateItem = () => {\r\n    textUpdate && dispatch(updatePost(post._id, textUpdate));\r\n    setIsUpdated(false);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card-container\" key={post._id}>\r\n      {isLoading ? (\r\n        <i className=\" fas fa-spinner fa-spin\">\r\n          <FaSpinner />\r\n        </i>\r\n      ) : (\r\n        <>\r\n          <div className=\"card-left\">\r\n            <img\r\n              src={\r\n                !isEmpty(usersData[0]) &&\r\n                usersData\r\n                  .map((user) => {\r\n                    if (user._id === post.posterId) return user.picture;\r\n                    else return null;\r\n                  })\r\n                  .join(\"\")\r\n              }\r\n              alt=\"user-pic\"\r\n            />\r\n          </div>\r\n          <div className=\"card-right\">\r\n            <div className=\"card-header\">\r\n              <div className=\"pseudo\">\r\n                <h3>\r\n                  {!isEmpty(usersData[0]) &&\r\n                    usersData\r\n                      .map((user) => {\r\n                        if (user._id === post.posterId) return user.pseudo;\r\n                        else return null;\r\n                      })\r\n                      .join(\"\")}\r\n                </h3>\r\n                {post.posterId !== userData._id && (\r\n                  <FollowHandler idToFollow={post.posterId} type={\"card\"} />\r\n                )}\r\n              </div>\r\n              <span>{dateParser(post.createdAt)}</span>\r\n            </div>\r\n            {isUpdated === false && <p>{post.message}</p>}\r\n            {isUpdated && (\r\n              <div className=\"update-post\">\r\n                <textarea\r\n                  defaultValue={post.message}\r\n                  onChange={(e) => {\r\n                    setTextUpdate(e.target.value);\r\n                  }}\r\n                />\r\n                <div className=\"button-container\" onClick={updateItem}>\r\n                  <button className=\"btn\">Valider Modification</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {post.picture && (\r\n              <img src={post.picture} alt=\"card-pic\" className=\"card-pic\" />\r\n            )}\r\n            {post.video && (\r\n              <iframe\r\n                src={post.video}\r\n                width=\"300\"\r\n                height=\"3OO\"\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture\"\r\n                allowFullScreen\r\n                title={post._id}\r\n              ></iframe>\r\n            )}\r\n            {userData._id === post.posterId && (\r\n              <div className=\"button-container\">\r\n                <div onClick={() => setIsUpdated(!isUpdated)}>\r\n                  <MdEditNote />\r\n                </div>\r\n                <DeleteCard id={post._id} />\r\n              </div>\r\n            )}\r\n            <div className=\"card-footer\">\r\n              <div className=\"comment-icon\">\r\n                <div className=\"icon\">\r\n                  <MdOutlineMessage\r\n                    onClick={() => setShowComments(!showComments)}\r\n                  />\r\n                </div>\r\n                <span>{post.comments.length}</span>\r\n              </div>\r\n              <LikeButton post={post} />\r\n              <div className=\"icon\">\r\n                <MdShare />\r\n              </div>\r\n            </div>\r\n            {showComments && <CardComments post={post} />}\r\n          </div>\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../actions/post.action\";\r\nimport { isEmpty } from \"../Components/Utils\";\r\nimport Card from \"./Post/Card\";\r\n\r\nconst Thread = () => {\r\n  const [loadPost, setLoadPost] = useState(true);\r\n  const [count, setCount] = useState(5);\r\n\r\n  const dispatch = useDispatch();\r\n  const posts = useSelector((state) => state.postsReducer);\r\n\r\n  const loadMore = () => {\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop + 1 >\r\n      document.scrollingElement.scrollHeight\r\n    ) {\r\n      setLoadPost(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loadPost) {\r\n      dispatch(getPosts(count));\r\n      setLoadPost(false);\r\n      setCount(count + 5);\r\n    }\r\n    window.addEventListener(\"scroll\", loadMore);\r\n    return () => window.removeEventListener(\"scroll\", loadMore);\r\n  }, [loadPost, dispatch, count]);\r\n\r\n  return (\r\n    <div className=\"thread-container\">\r\n      <ul>\r\n        {!isEmpty(posts[0]) &&\r\n          posts.map((post) => {\r\n            return <Card key={post._id} post={post} />;\r\n          })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Thread;\r\n","import React, { useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst SignInForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/login`,\r\n      withCredentials: true,\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          emailError.innerHTML = res.data.errors.email;\r\n          passwordError.innerHTML = res.data.errors.password;\r\n        } else {\r\n          window.location = \"/\";\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handleLogin} id=\"sign-in-form\">\r\n      <label htmlFor=\"email\">Email</label>\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        id=\"email\"\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        value={email}\r\n      />\r\n      <div className=\"email error\"></div>\r\n      <br />\r\n      <label htmlFor=\"password\">Mot de passe</label>\r\n      <br />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"password\"\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        value={password}\r\n      />\r\n      <div className=\"password error\"></div>\r\n      <br />\r\n      <input type=\"submit\" value=\"Se connecter\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport SignInForm from \"./SignInForm\";\r\n\r\nconst SignUpForm = () => {\r\n  const [formSubmit, setFormSubmit] = useState(false);\r\n  const [pseudo, setpseudo] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [controlPassword, setControlPassword] = useState(\"\");\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    const terms = document.getElementById(\"terms\");\r\n    const pseudoError = document.querySelector(\".pseudo.error\");\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n    const passwordConfimError = document.querySelector(\r\n      \".password-confim.error\"\r\n    );\r\n    const termsError = document.querySelector(\".terms.error\");\r\n\r\n    // passwordConfimError.innerHTML = \"\";\r\n    // termsError.innerHTML = \"\";\r\n\r\n    if (password !== controlPassword || !terms.checked) {\r\n      if (password !== controlPassword)\r\n        passwordConfimError.innerHTML =\r\n          \"Les mots de passe ne correspondent pas\";\r\n      if (!terms.checked)\r\n        termsError.innerHTML = \"Veuillez valider les conditions générales\";\r\n    } else {\r\n      await axios({\r\n        method: \"post\",\r\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\r\n        data: {\r\n          pseudo,\r\n          email,\r\n          password,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (res.data.errors) {\r\n            pseudoError.innerHTML = res.data.errors.pseudo;\r\n            emailError.innerHTML = res.data.errors.email;\r\n            passwordError.innerHTML = res.data.errors.password;\r\n          } else {\r\n            setFormSubmit(true);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {formSubmit ? (\r\n        <>\r\n          <SignInForm />\r\n          <span></span>\r\n          <h4 className=\"success\">\r\n            Enregistrement réussi, veuillez-vous connecter\r\n          </h4>\r\n        </>\r\n      ) : (\r\n        <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\r\n          <label htmlFor=\"pseudo\">Pseudo</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"pseudo\"\r\n            id=\"pseudo\"\r\n            onChange={(e) => setpseudo(e.target.value)}\r\n            value={pseudo}\r\n          />\r\n          <div className=\"pseudo error\"></div>\r\n          <br />\r\n          <label htmlFor=\"email\">Email</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            value={email}\r\n          />\r\n          <div className=\"email error\"></div>\r\n          <br />\r\n          <label htmlFor=\"password\">Mot de passe</label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            value={password}\r\n          />\r\n          <div className=\"password error\"></div>\r\n          <br />\r\n          <label htmlFor=\"password-conf\">Confirmer mot de passe</label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password-conf\"\r\n            id=\"password-conf\"\r\n            onChange={(e) => setControlPassword(e.target.value)}\r\n            value={controlPassword}\r\n          />\r\n          <div className=\"password-confirm error\"></div>\r\n          <br />\r\n          <input type=\"checkbox\" id=\"terms\" />\r\n          <label htmlFor=\"terms\">\r\n            J'accepte les{\" \"}\r\n            <a href=\"http:/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              conditions générales\r\n            </a>\r\n          </label>\r\n          <div className=\"terms error\"></div>\r\n          <input type=\"submit\" value=\"Valider inscription\" />\r\n        </form>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, { useState } from \"react\";\r\nimport SignInForm from \"./SignInForm\";\r\nimport SignUpForm from \"./SignUpForm\";\r\n\r\nconst Log = ({ signin, signup }) => {\r\n  const [signUpModal, setSignUpModal] = useState(signup);\r\n  const [signInModal, setSignInModal] = useState(signin);\r\n\r\n  const handleModals = (e) => {\r\n    if (e.target.id === \"login\") {\r\n      setSignInModal(true);\r\n      setSignUpModal(false);\r\n    }\r\n    if (e.target.id === \"register\") {\r\n      setSignInModal(false);\r\n      setSignUpModal(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"connection-form\">\r\n      <div className=\"form-container\">\r\n        <ul>\r\n          <li\r\n            onClick={handleModals}\r\n            id=\"register\"\r\n            className={signUpModal ? \"active-btn\" : null}\r\n          >\r\n            S'inscrire\r\n          </li>\r\n\r\n          <li\r\n            onClick={handleModals}\r\n            id=\"login\"\r\n            className={signInModal ? \"active-btn\" : null}\r\n          >\r\n            Se connecter\r\n          </li>\r\n        </ul>\r\n        {signInModal && <SignInForm />}\r\n        {signUpModal && <SignUpForm />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Log;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getTrends } from \"../actions/post.action\";\r\nimport { isEmpty } from \"./Utils\";\r\nconst Trends = () => {\r\n  const posts = useSelector((state) => state.allPostsReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(posts[0])) {\r\n      const postsArr = Object.keys(posts).map((i) => posts[i]);\r\n      let sortedArray = postsArr.sort((a, b) => {\r\n        return b.likers.length - a.likers.length;\r\n      });\r\n      sortedArray.length = 3;\r\n      dispatch(getTrends(sortedArray));\r\n    }\r\n  }, [posts, dispatch]);\r\n\r\n  return (\r\n    <div className=\"trending-container\">\r\n      <h4>Trending </h4>\r\n      <Link to=\"/trending\">\r\n        <ul>\r\n          {trendList.length &&\r\n            trendList.map((post) => {\r\n              return (\r\n                <li key={post._id}>\r\n                  <div>\r\n                    {post.picture && <img src={post.picture} alt=\"post-pic\" />}\r\n                    {post.video && (\r\n                      <iframe\r\n                        src={post.video}\r\n                        width=\"300\"\r\n                        height=\"3OO\"\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture\"\r\n                        allowFullScreen\r\n                        title={post._id}\r\n                      ></iframe>\r\n                    )}\r\n                    {isEmpty(post.picture) && isEmpty(post.video) && (\r\n                      <img\r\n                        src={\r\n                          usersData[0] &&\r\n                          usersData\r\n                            .map((user) => {\r\n                              if (user._id === post.posterId)\r\n                                return user.picture;\r\n                              else return null;\r\n                            })\r\n                            .join(\"\")\r\n                        }\r\n                        alt=\"user-pic\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"trend-content\">\r\n                    <p>{post.message}</p>\r\n                    <span>Lire</span>\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n        </ul>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trends;\r\n","import React, { useContext } from \"react\";\r\nimport { UidContext } from \"../Components/AppContext\";\r\nimport LeftNav from \"../Components/LeftNav\";\r\nimport NewPostForm from \"../Components/Post/NewPostForm\";\r\nimport Thread from \"../Components/Thread\";\r\nimport Log from \"../Components/Log\";\r\nimport Trends from \"../Components/Trends\";\r\n\r\nconst Home = () => {\r\n  const uid = useContext(UidContext);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <LeftNav />\r\n      <div className=\"main\">\r\n        <div className=\"home-header\">\r\n          {uid ? <NewPostForm /> : <Log signin={true} signup={false} />}\r\n        </div>\r\n        <Thread />\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"right-side-container\">\r\n          <div className=\"wrapper\">\r\n            <Trends />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { uploadPicture } from \"../../actions/user.actions\";\r\n\r\nconst UploadImg = () => {\r\n  const [file, setFile] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  const handlePicture = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    data.append(\"name\", userData.pseudo);\r\n    data.append(\"userId\", userData._id);\r\n    data.append(\"file\", file);\r\n\r\n    dispatch(uploadPicture(data, userData._id));\r\n  };\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handlePicture} className=\"upload-pic\">\r\n      <label htmlFor=\"file\">Changer d'image</label>\r\n      <input\r\n        type=\"file\"\r\n        id=\"file\"\r\n        name=\"file\"\r\n        accept=\".jpg, .jpeg, .png\"\r\n        onChange={(e) => setFile(e.target.files[0])}\r\n      />\r\n      <br />\r\n      <input type=\"submit\" value=\"Envoyer\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UploadImg;\r\n","import React, { useState } from \"react\";\r\nimport LeftNav from \"../LeftNav\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UploadImg from \"./UploadImg\";\r\nimport { updateBio } from \"../../actions/user.actions\";\r\nimport { dateParser, isEmpty } from \"../Utils\";\r\nimport FollowHandler from \"./FollowHandler\";\r\n\r\nconst UpdateProfil = () => {\r\n  const [bio, setBio] = useState(\"\");\r\n  const [updateForm, setUpdateForm] = useState(false);\r\n  const [followingPopup, setFollowingPopup] = useState(false);\r\n  const [followersPopup, setFollowersPopup] = useState(false);\r\n\r\n  const userData = useSelector((state) => state.userReducer);\r\n  const usersData = useSelector((state) => state.usersReducer);\r\n  const error = useSelector((state) => state.errorReducer.userErrors);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleUpdate = () => {\r\n    dispatch(updateBio(userData._id, bio));\r\n    setUpdateForm(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"profil-container\">\r\n      <LeftNav />\r\n      <h1>Profil de {userData.pseudo}</h1>\r\n      <div className=\"update-container\">\r\n        <div className=\"left-part\">\r\n          <h3>Photo de profil</h3>\r\n          <img src={userData.picture} alt=\"user-pic\" />\r\n          <UploadImg />\r\n          {!isEmpty(error.format) && <p>{error.format}</p>}\r\n          {!isEmpty(error.maxSize) && <p>{error.maxSize}</p>}\r\n        </div>\r\n\r\n        <div className=\"right-part\">\r\n          <div className=\"bio-update\">\r\n            <h3>Bio</h3>\r\n            {updateForm === false && (\r\n              <>\r\n                <p\r\n                  onClick={() => {\r\n                    setUpdateForm(!updateForm);\r\n                  }}\r\n                >\r\n                  {userData.bio}\r\n                </p>\r\n                <button\r\n                  onClick={() => {\r\n                    setUpdateForm(!updateForm);\r\n                  }}\r\n                >\r\n                  Modifier bio\r\n                </button>\r\n              </>\r\n            )}\r\n            {updateForm && (\r\n              <>\r\n                <textarea\r\n                  defaultValue={userData.bio}\r\n                  onChange={(e) => setBio(e.target.value)}\r\n                ></textarea>\r\n                <button onClick={handleUpdate}>valider modifications</button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\r\n          <h5 onClick={() => setFollowingPopup(true)}>\r\n            Abonnements : {userData.following ? userData.following.length : \"0\"}\r\n          </h5>\r\n          <h5 onClick={() => setFollowersPopup(true)}>\r\n            Abonnés : {userData.followers ? userData.followers.length : \"0\"}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      {followingPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonnements</h3>\r\n            <span className=\"cross\" onClick={() => setFollowingPopup(false)}>\r\n              &#10005;\r\n            </span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.following.length; i++) {\r\n                  if (user._id === userData.following[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user-pic\" />\r\n                        <h4>{user.pseudo}</h4>\r\n                        <div className=\"follow-handler\">\r\n                          <FollowHandler\r\n                            idToFollow={user._id}\r\n                            type={\"suggestion\"}\r\n                          />\r\n                        </div>\r\n                      </li>\r\n                    );\r\n                  }\r\n                }\r\n                return null;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {followersPopup && (\r\n        <div className=\"popup-profil-container\">\r\n          <div className=\"modal\">\r\n            <h3>Abonnés</h3>\r\n            <span className=\"cross\" onClick={() => setFollowersPopup(false)}>\r\n              &#10005;\r\n            </span>\r\n            <ul>\r\n              {usersData.map((user) => {\r\n                for (let i = 0; i < userData.followers.length; i++) {\r\n                  if (user._id === userData.followers[i]) {\r\n                    return (\r\n                      <li key={user._id}>\r\n                        <img src={user.picture} alt=\"user-pic\" />\r\n                        <h4>{user.pseudo}</h4>\r\n                        <div className=\"follow-handler\">\r\n                          <FollowHandler\r\n                            idToFollow={user._id}\r\n                            type={\"suggestion\"}\r\n                          />\r\n                        </div>\r\n                      </li>\r\n                    );\r\n                  }\r\n                }\r\n                return null;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateProfil;\r\n","import React, { useContext } from \"react\";\r\nimport { UidContext } from \"../Components/AppContext\";\r\nimport Log from \"../Components/Log\";\r\nimport UpdateProfil from \"../Components/Profil/UpdateProfil\";\r\n\r\nconst Profil = () => {\r\n  const uid = useContext(UidContext);\r\n\r\n  return (\r\n    <div className=\"profil-page\">\r\n      {uid ? (\r\n        <UpdateProfil />\r\n      ) : (\r\n        <div className=\"log-container\">\r\n          <Log signin={false} signup={true} />\r\n          <div className=\"img-container\">\r\n            <img src=\"./img/log.svg\" alt=\"img-log\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profil;\r\n","import React, { useContext } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { UidContext } from \"../Components/AppContext\";\r\nimport { isEmpty } from \"../Components/Utils\";\r\nimport LeftNav from \"../Components/LeftNav\";\r\nimport Card from \"../Components/Post/Card\";\r\nimport Trends from \"../Components/Trends\";\r\n\r\nconst Trending = () => {\r\n  const uid = useContext(UidContext);\r\n  const trendList = useSelector((state) => state.trendingReducer);\r\n\r\n  return (\r\n    <div className=\"trending-page\">\r\n      <LeftNav />\r\n      <div className=\"main\">\r\n        <ul>\r\n          {!isEmpty(trendList[0]) &&\r\n            trendList.map((post) => <Card post={post} key={post._id} />)}\r\n        </ul>\r\n      </div>\r\n      <div className=\"right-side\">\r\n        <div className=\"right-side-container\">\r\n          <Trends />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trending;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h1>Erreur 404</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport cookie from \"js-cookie\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\n\r\nconst Logout = () => {\r\n  const removeCookie = (key) => {\r\n    if (window !== \"undefined\") cookie.remove(key, { expires: 1 });\r\n  };\r\n\r\n  const logout = async () => {\r\n    await axios({\r\n      method: \"get\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/logout`,\r\n      withCredentials: true,\r\n    })\r\n      .then(() => {\r\n        removeCookie(\"jwt\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    window.location = \"/\";\r\n  };\r\n\r\n  return (\r\n    <li onClick={logout}>\r\n      <FiLogOut style={{ cursor: \"pointer\" }} />\r\n      {/* <img src=\"./img/icons/logout.svg\" alt=\"logout\" /> */}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React, { useContext } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { UidContext } from \"../Components/AppContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FiLogIn } from \"react-icons/fi\";\r\nimport Logout from \"./Log/Logout\";\r\n\r\nconst Navbar = () => {\r\n  const Uid = useContext(UidContext);\r\n  const userData = useSelector((state) => state.userReducer);\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-container\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <div className=\"logo\">\r\n              <img src=\"./img/logo.png\" alt=\"icon\" />\r\n              <h3>Phost</h3>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        {Uid ? (\r\n          <ul>\r\n            <li></li>\r\n            <li className=\"welcome\">\r\n              <Link to=\"/profil\">\r\n                <h5>Bienvenue {userData.pseudo}</h5>\r\n              </Link>\r\n            </li>\r\n            <Logout />\r\n          </ul>\r\n        ) : (\r\n          <ul>\r\n            <li></li>\r\n            <li>\r\n              <Link to=\"/profil\">\r\n                {/* <img src=\"./img/icons/login.svg\" alt=\"login\" /> */}\r\n                <FiLogIn />\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport Home from \"../../Pages/Home\";\r\nimport Profil from \"../../Pages/Profil\";\r\nimport Trending from \"../../Pages/Trending\";\r\nimport NotFound from \"../../Pages/NotFound\";\r\nimport Navbar from \"../Navbar\";\r\n\r\nconst index = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Navbar />\r\n      <Routes>\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/profil\" element={<Profil />} />\r\n        <Route path=\"/trending\" element={<Trending />} />\r\n        <Route path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default index;\r\n","import React, { useState, useEffect } from \"react\";\nimport { UidContext } from \"./Components/AppContext\";\nimport axios from \"axios\";\nimport Route from \"./Components/Routes\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"./actions/user.actions\";\n\nconst App = () => {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      await axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}jwtid`,\n        withCredentials: true,\n      })\n        .then((res) => setUid(res.data))\n        .catch((err) => console.log(\"No token\"));\n    };\n    fetchToken();\n    if (uid) dispatch(getUser(uid));\n  }, [uid, dispatch]);\n\n  return (\n    <UidContext.Provider value={uid}>\n      <Route />\n    </UidContext.Provider>\n  );\n};\n\nexport default App;\n","import {\r\n  FOLLOW_USER,\r\n  GET_USER,\r\n  UNFOLLOW_USER,\r\n  UPDATE_BIO,\r\n  UPLOAD_PICTURE,\r\n} from \"../actions/user.actions\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return action.payload;\r\n    case UPLOAD_PICTURE:\r\n      return { ...state, picture: action.payload };\r\n    case UPDATE_BIO:\r\n      return { ...state, bio: action.payload };\r\n    case FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: [action.payload.idToFollow, ...state.following],\r\n      };\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: state.following.filter(\r\n          (id) => id !== action.payload.idToUnfollow\r\n        ),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const GET_USERS = \"GET_USERS\";\r\n\r\nexport const getUsers = () => {\r\n  return (dispatch) => {\r\n    return axios({\r\n      method: \"get\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user`,\r\n    })\r\n      .then((res) => dispatch({ type: GET_USERS, payload: res.data }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n};\r\n","import { GET_USERS } from \"../actions/users.actions\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function usersReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USERS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  DELETE_COMMENT,\r\n  DELETE_POST,\r\n  EDIT_COMMENT,\r\n  GET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  UPDATE_POST,\r\n} from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function postReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POSTS:\r\n      return action.payload;\r\n    case LIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: [action.payload.userId, ...post.likers],\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n    case UNLIKE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            likers: post.likers.filter((id) => id !== action.payload.userId),\r\n          };\r\n        }\r\n        return post;\r\n      });\r\n    case UPDATE_POST:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            message: action.payload.message,\r\n          };\r\n        } else return post;\r\n      });\r\n    case DELETE_POST:\r\n      return state.filter((post) => post._id !== action.payload.postId);\r\n    case EDIT_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.map((comment) => {\r\n              if (comment._id === action.payload.commentId) {\r\n                return {\r\n                  ...comment,\r\n                  text: action.payload.text,\r\n                };\r\n              } else return comment;\r\n            }),\r\n          };\r\n        } else return post;\r\n      });\r\n    case DELETE_COMMENT:\r\n      return state.map((post) => {\r\n        if (post._id === action.payload.postId) {\r\n          return {\r\n            ...post,\r\n            comments: post.comments.filter(\r\n              (comment) => comment._id !== action.payload.commentId\r\n            ),\r\n          };\r\n        } else return post;\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_POST_ERROR } from \"../actions/post.action\";\r\nimport { GET_USER_ERROR } from \"../actions/user.actions\";\r\n\r\nconst initialState = { userErrors: [], postErrors: [] };\r\n\r\nexport default function errorReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_POST_ERROR:\r\n      return {\r\n        postErrors: action.payload,\r\n        userErrors: [],\r\n      };\r\n    case GET_USER_ERROR:\r\n      return {\r\n        userErrors: action.payload,\r\n        postErrors: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ALL_POSTS } from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function allPostsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ALL_POSTS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_TRENDS } from \"../actions/post.action\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function trendingReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_TRENDS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./user.reducer\";\r\nimport usersReducer from \"./users.reducer\";\r\nimport postsReducer from \"./post.reducer\";\r\nimport errorReducer from \"./error.reducer\";\r\nimport allPostsReducer from \"./allPosts.reducer\";\r\nimport trendingReducer from \"./trending.reducer\";\r\n\r\nexport default combineReducers({\r\n  userReducer,\r\n  usersReducer,\r\n  postsReducer,\r\n  errorReducer,\r\n  allPostsReducer,\r\n  trendingReducer,\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport RootReducer from \"./reducers\";\nimport { getUsers } from \"./actions/users.actions\";\nimport { getPosts } from \"./actions/post.action\";\n\n// dev tools\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport logger from \"redux-logger\";\n\nconst store = createStore(\n  RootReducer,\n  composeWithDevTools(applyMiddleware(thunk, logger))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nconsole.log(process.env.REACT_APP_API_URL);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}